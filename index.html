<!DOCTYPE html>
<html lang="es">
<head>

<meta charset="UTF-8">
<meta name="viewport"
content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<meta name="theme-color" content="#0f172a">

<title>El Impostor Futbolero</title>

<style>

/* ===== APP MOBILE BASE ===== */

html,body{
    height:100%;
    margin:0;
    overflow-x:hidden;
    font-family:Arial, Helvetica, sans-serif;
    background:#0f172a;
    color:white;
}

body{
    display:flex;
    flex-direction:column;
    text-align:center;
}

h1{
    background:#111827;
    padding:15px;
    margin:0;
}

.container{
    flex:1;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    padding:20px;
}

/* ===== TRANSICIONES ===== */

.pantalla{
    opacity:0;
    transform:translateY(20px);
    transition:.4s;
    pointer-events:none;
}

.pantalla.activa{
    opacity:1;
    transform:translateY(0);
    pointer-events:auto;
}

/* ===== INPUTS ===== */

select,input{
    width:85%;
    max-width:320px;
    padding:14px;
    font-size:18px;
    border-radius:12px;
    border:none;
    margin:8px;
}

/* ===== BOTONES ===== */

button{
    background:#22c55e;
    color:white;
    border:none;
    border-radius:14px;
    font-size:18px;
    padding:16px;
    width:85%;
    max-width:320px;
    margin:10px auto;
}

button:active{
    transform:scale(.96);
}

/* ===== BOTONES JUGADORES ===== */

.playerBtn{
    background:#3b82f6;
    font-size:20px;
    padding:18px;
    width:90%;
}

/* ===== PANTALLA ROL ===== */

#pantallaRol{
    position:fixed;
    inset:0;
    background:#020617;
    display:none;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    font-size:28px;
}

/* =====================================================
   üî• TIMER FULLSCREEN REAL (FIX IPHONE)
===================================================== */

#pantallaTimer{
    position:fixed;
    inset:0;
    width:100vw;
    height:100dvh;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    background:linear-gradient(180deg,#020617,#0a1f44,#020617);
    overflow:hidden;
}

/* fondo animado */

#pantallaTimer::before{
    content:"";
    position:absolute;
    width:300%;
    height:300%;
    top:-100%;
    left:-100%;
    background:
        radial-gradient(circle,#22c55e33,transparent 40%),
        radial-gradient(circle,#3b82f633,transparent 40%);
    animation:fondo 20s linear infinite;
}

@keyframes fondo{
    from{transform:rotate(0deg);}
    to{transform:rotate(360deg);}
}

#pantallaTimer > *{
    position:relative;
    z-index:2;
}

/* ===== TIMER ===== */

#timer{
    font-size:clamp(70px,18vw,140px);
    font-weight:bold;
    color:#22c55e;
    text-shadow:0 0 25px #22c55e;
    animation:pulse 1.2s infinite;
}

@keyframes pulse{
    0%,100%{transform:scale(1)}
    50%{transform:scale(1.12)}
}

/* ===== OBJETOS FUTBOL ===== */

.objetoFutbol{
    position:absolute;
    top:-80px;
    font-size:30px;
    animation:caer linear forwards;
    pointer-events:none;
}

@keyframes caer{
    from{transform:translateY(-100px) rotate(0deg);}
    to{transform:translateY(110vh) rotate(360deg);}
}

</style>
</head>

<body>

<h1>‚öΩ El Impostor Futbolero</h1>

<!-- CONFIG -->
<div class="container pantalla activa" id="configuracion">

<h2>Configuraci√≥n</h2>

<select id="categoria">
<option value="futbolistas">Adivinar Futbolista</option>
<option value="equipos">Adivinar Equipo</option>
<option value="leyendas">Adivinar Leyenda</option>
<option value="selecciones">Adivinar Selecci√≥n</option>
</select>

<input type="number" id="numJugadores" value="4" min="3" max="12">
<input type="number" id="numImpostores" value="1" min="1">

<button onclick="crearInputsNombres()">Configurar nombres</button>

<div id="nombresContainer"></div>

<button onclick="iniciarJuego()">Jugar</button>

</div>

<!-- JUEGO -->
<div class="container pantalla" id="pantallaJuego">
<h2>Pas√° el celular y toc√° tu nombre</h2>
<div id="jugadores"></div>
<button id="btnEmpezar" style="display:none;" onclick="empezarRonda()">‚ñ∂ Empezar ronda</button>
</div>

<!-- ROL -->
<div id="pantallaRol">
<div id="textoRol"></div>
<br>
<button onclick="cerrarRol()">Cerrar</button>
</div>

<!-- TIMER -->
<div class="pantalla" id="pantallaTimer">
<h2>Tiempo de discusi√≥n</h2>
<div id="timer">05:00</div>
</div>

<script>

/* ===== BASE DATOS ===== */

const categorias={
futbolistas:["Messi","Cristiano Ronaldo","Neymar","Mbapp√©","Haaland","Vinicius Jr","Salah","Bellingham"],
equipos:["Barcelona","Real Madrid","Liverpool","Manchester City","Pe√±arol","Nacional","PSG","Bayern Munich"],
leyendas:["Pel√©","Maradona","Zidane","Cruyff","Ronaldinho","Ronaldo Nazario"],
selecciones:["Argentina","Brasil","Uruguay","Francia","Espa√±a","Alemania","Italia"]
};

let categoriaElegida;
let cantidadJugadores;
let cantidadImpostores;
let palabraSecreta;
let roles=[];
let nombres=[];
let yaVieron=[];

/* ===== CAMBIO PANTALLAS ===== */

function cambiarPantalla(a,b){
document.getElementById(a).classList.remove("activa");
document.getElementById(b).classList.add("activa");
}

/* ===== NOMBRES ===== */

function crearInputsNombres(){
cantidadJugadores=parseInt(numJugadores.value);
nombresContainer.innerHTML="<h3>Nombres:</h3>";

for(let i=0;i<cantidadJugadores;i++){
nombresContainer.innerHTML+=`<input placeholder="Jugador ${i+1}" id="nombre${i}">`;
}
}

/* ===== LOGICA ===== */

function elegirPalabra(){
const lista=categorias[categoriaElegida];
palabraSecreta=lista[Math.floor(Math.random()*lista.length)];
}

function asignarRoles(){
roles=new Array(cantidadJugadores).fill("jugador");

let asignados=0;
while(asignados<cantidadImpostores){
let r=Math.floor(Math.random()*cantidadJugadores);
if(roles[r]!=="impostor"){
roles[r]="impostor";
asignados++;
}
}
}

function crearBotonesJugadores(){
jugadores.innerHTML="";
yaVieron=new Array(cantidadJugadores).fill(false);

for(let i=0;i<cantidadJugadores;i++){
let btn=document.createElement("button");
btn.className="playerBtn";
btn.textContent=nombres[i];
btn.onclick=()=>mostrarRol(i,btn);
jugadores.appendChild(btn);
}
}

function iniciarJuego(){

categoriaElegida=categoria.value;
cantidadJugadores=parseInt(numJugadores.value);
cantidadImpostores=parseInt(numImpostores.value);

if(cantidadImpostores>=cantidadJugadores){
alert("Demasiados impostores");
return;
}

nombres=[];
for(let i=0;i<cantidadJugadores;i++){
nombres.push(document.getElementById("nombre"+i)?.value || `Jugador ${i+1}`);
}

elegirPalabra();
asignarRoles();
crearBotonesJugadores();

cambiarPantalla("configuracion","pantallaJuego");
}

/* ===== ROL ===== */

function mostrarRol(indice,boton){

if(yaVieron[indice]) return;

textoRol.innerHTML =
roles[indice]==="impostor"
? "ü§´ SOS EL IMPOSTOR"
: `‚öΩ Palabra:<br><b>${palabraSecreta}</b>`;

yaVieron[indice]=true;
boton.style.visibility="hidden";

pantallaRol.style.display="flex";

if(yaVieron.every(v=>v)){
btnEmpezar.style.display="block";
}
}

function cerrarRol(){
pantallaRol.style.display="none";
}

/* ===== ANIMACION OBJETOS ===== */

function iniciarLluviaFutbol(){

const iconos=["‚öΩ","üëü","‚ö°"];

setInterval(()=>{
const obj=document.createElement("div");
obj.className="objetoFutbol";
obj.textContent=iconos[Math.floor(Math.random()*iconos.length)];
obj.style.left=Math.random()*100+"vw";
obj.style.animationDuration=(4+Math.random()*4)+"s";

pantallaTimer.appendChild(obj);

setTimeout(()=>obj.remove(),8000);
},500);

}

/* ===== TIMER ===== */

function empezarRonda(){

cambiarPantalla("pantallaJuego","pantallaTimer");

iniciarLluviaFutbol();

let tiempo=300;

const intervalo=setInterval(()=>{

let min=Math.floor(tiempo/60);
let seg=tiempo%60;

timer.textContent=
String(min).padStart(2,"0")+":"+
String(seg).padStart(2,"0");

if(tiempo<=30){
timer.style.color="#ef4444";
}

tiempo--;

if(tiempo<0){
clearInterval(intervalo);
timer.textContent="‚è∞ Tiempo terminado";
}

},1000);
}

</script>

</body>
</html>



